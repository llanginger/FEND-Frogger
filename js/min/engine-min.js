var Engine=function(e){function n(){var e=Date.now(),a=(e-y)/1e3;o(a),s(),y=e,allEnemies.forEach(function(e){e.resetPos()}),floatingLog.resetPos(),p.requestAnimationFrame(n)}function a(){r(),y=Date.now(),n()}function o(e){l(e),t(),g()}function l(e){allEnemies.forEach(function(n){n.update(e)}),player.update(),floatingLog.update(e)}function t(){allEnemies.forEach(function(e){player.x<=e.x+70&&e.x<=player.x+70&&player.y<=e.y+10&&e.y<=player.y+10&&r()})}function g(){player.x<=floatingLog.x+70&&floatingLog.x<=player.x+70&&player.y<=floatingLog.y+10&&floatingLog.y<=player.y+10&&(numRows++,level++,r(),beetleCreator())}function s(){var e=["images/water-block.png","images/stone-block.png","images/stone-block.png","images/stone-block.png","images/grass-block.png","images/grass-block.png","images/grass-block.png","images/grass-block.png","images/grass-block.png"],n,a;for(n=0;n<numRows;n++)for(a=0;u>a;a++)m.drawImage(Resources.get(e[n]),101*a,83*n);m.fillStyle="rgb(250, 250, 250)",m.font="24px Helvetica",m.textAlign="left",m.textBaseline="top",m.fillText("Level: "+level,13,60),i()}function i(){allEnemies.forEach(function(e){e.render()}),player.render(),floatingLog.render()}function r(){player.x=200,6===numRows&&(player.y=405),7===numRows&&(player.y=488),8===numRows&&(player.y=571)}var c=e.document,p=e.window,f=c.createElement("canvas"),m=f.getContext("2d"),y;f.width=505,f.height=750,c.body.appendChild(f);var u=5;Resources.load(["images/stone-block.png","images/water-block.png","images/grass-block.png","images/enemy-bug.png","images/Rock.png","images/char-boy.png"]),Resources.onReady(a),e.ctx=m}(this);